(this.webpackJsonpui=this.webpackJsonpui||[]).push([[0],{99:function(e,t,r){"use strict";r.r(t);var n,a=r(0),o=r.n(a),c=r(11),s=r.n(c),i=r(40),u=r(22),j=r(132),b=r(128),l=r(129),d=r(135),O=r(74),p="#734d25",g="#6e9c82",h=Object(d.a)(Object(O.a)({palette:{primary:{main:p},secondary:{main:g}}})),m=r(27),x=r(28),f=Object(x.a)(n||(n=Object(m.a)(["\n  body {\n    margin: 0;\n    font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Oxygen',\n      'Ubuntu', 'Cantarell', 'Fira Sans', 'Droid Sans', 'Helvetica Neue',\n      sans-serif;\n    -webkit-font-smoothing: antialiased;\n    -moz-osx-font-smoothing: grayscale;\n  }\n\n  a {\n    text-decoration: none;\n    color: inherit;\n  }\n"]))),y=r(44),E=r(72),v=r(8),w="SET_USER",S="SET_REGISTER_LOADING",_="SET_REGISTER_DID_ERROR",k="SET_REGISTER_INPUT_ERRORS",T="SET_LOGIN_LOADING",I="SET_LOGIN_DID_ERROR",R="SET_LOGIN_INPUT_ERRORS",N={isAuthenticated:!1,user:{},register:{loading:!1,didError:!1,inputErrors:{}},login:{loading:!1,didError:!1,inputErrors:{}}};var D,U=Object(y.b)({auth:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:N,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case w:return Object(v.a)(Object(v.a)({},e),{},{isAuthenticated:!0,user:t.user});case S:return Object(v.a)(Object(v.a)({},e),{},{register:Object(v.a)(Object(v.a)({},e.register),{},{loading:t.status})});case _:return Object(v.a)(Object(v.a)({},e),{},{register:Object(v.a)(Object(v.a)({},e.register),{},{didError:t.didError})});case k:return Object(v.a)(Object(v.a)({},e),{},{register:Object(v.a)(Object(v.a)({},e.register),{},{inputErrors:t.inputErrors})});case T:return Object(v.a)(Object(v.a)({},e),{},{login:Object(v.a)(Object(v.a)({},e.login),{},{loading:t.status})});case I:return Object(v.a)(Object(v.a)({},e),{},{login:{didError:t.didError}});case R:return Object(v.a)(Object(v.a)({},e),{},{login:Object(v.a)(Object(v.a)({},e.login),{},{inputErrors:t.inputErrors})});default:return e}}}),C=Object(y.d)(U,{},Object(y.c)(Object(y.a)(E.a),window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__())),A=r(10),L=r(131),F=r(133),G=Object(x.b)(F.a)(D||(D=Object(m.a)(["\n  margin-right: 8px;\n"]))),P=r(3);var H,J=function(){return localStorage.getItem("token")?Object(P.jsx)(A.a,{to:"/app"}):Object(P.jsxs)(L.a,{children:[Object(P.jsx)("h1",{children:"Welcome to JavaDocs"}),Object(P.jsx)(G,{variant:"contained",color:"primary",children:Object(P.jsx)(u.b,{to:"/login",children:"Sign In"})}),Object(P.jsx)(G,{variant:"contained",color:"secondary",children:Object(P.jsx)(u.b,{to:"/register",children:"Sign Up"})})]})},X=r(31),z=r(127),M=r(130),B=Object(x.b)(M.a)(H||(H=Object(m.a)(["\n  display: block;\n  margin: 8px 0;\n"]))),V=r(30),W=r.n(V),q=r(49),K=r(14);function Q(e,t,r){return fetch(e,{method:t,headers:{"Content-Type":"application/json"},body:JSON.stringify(r)}).then((function(e){return e.json().then((function(t){return{success:e.ok,status:e.status,payload:t}}))})).catch((function(e){return{success:!1,reason:e}}))}function Y(e){return{type:S,status:e}}function Z(e){return{type:k,inputErrors:e}}function $(e){return{type:T,status:e}}function ee(e){return{type:R,inputErrors:e}}function te(e){return e.auth.register.loading}function re(e){return e.auth.register.didError}function ne(e){return e.auth.register.inputErrors}function ae(e){return e.auth.login.loading}function oe(e){return e.auth.login.didError}function ce(e){return e.auth.login.inputErrors}function se(e){return function(t){return e(t.target.value)}}var ie,ue=Object(i.b)((function(e){return{loading:ae(e),didError:oe(e),inputErrors:ce(e)}}),(function(e){return{loging:function(t){var r=t.email,n=t.password,a=t.history;return e(function(e){var t=e.email,r=e.password,n=e.history;return function(){var e=Object(q.a)(W.a.mark((function e(a){var o,c;return W.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a($(!0)),e.next=3,Q("/api/users/login/","POST",{email:t,password:r});case 3:if(o=e.sent,console.log(o),o.success&&!(o.status>=400)&&Object(K.get)(o,"payload.token")){e.next=10;break}return a({type:I,didError:!0}),c={email:Object(K.get)(o,"payload.email"),password:Object(K.get)(o,"payload.password")},Object(K.some)(c)&&a(ee(c)),e.abrupt("return",a($(!1)));case 10:return localStorage.setItem("token",o.payload.token),n.push("/app"),e.abrupt("return",a($(!1)));case 13:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}({email:r,password:n,history:a}))}}}))((function(e){var t=e.didError,r=e.inputErrors,n=e.loading,o=e.loging,c=Object(A.g)(),s=Object(a.useState)(""),i=Object(X.a)(s,2),j=i[0],b=i[1],l=Object(a.useState)(""),d=Object(X.a)(l,2),O=d[0],p=d[1];return n?Object(P.jsx)(z.a,{color:"primary"}):t&&Object(K.isEmpty)(r)?Object(P.jsx)(P.Fragment,{children:"Hey sorry, something broke"}):Object(P.jsxs)(P.Fragment,{children:[Object(P.jsx)("h1",{children:"Log In"}),Object(P.jsxs)("form",{children:[Object(P.jsx)(B,{variant:"outlined",label:"email",value:j,onChange:se(b),error:t&&r.email,helperText:Object(K.get)(r,"email","")}),Object(P.jsx)(B,{variant:"outlined",label:"password",value:O,onChange:se(p),error:t&&r.password,helperText:Object(K.get)(r,"password","")})]}),Object(P.jsx)(F.a,{variant:"contained",color:"secondary",size:"large",onClick:function(){o({email:j,password:O,history:c})},children:"Log In"}),Object(P.jsx)("hr",{}),"No Account?",Object(P.jsx)(u.b,{to:"/register",children:Object(P.jsx)(F.a,{color:"primary",children:"Sign Up"})})]})})),je=Object(x.b)(M.a)(ie||(ie=Object(m.a)(["\n  display: block;\n  margin: 8px 0;\n"])));function be(e){return function(t){return e(t.target.value)}}function le(e){return Object(P.jsx)(A.b,{path:e.path,exact:e.exact,render:function(t){return Object(P.jsx)(e.component,Object(v.a)(Object(v.a)({},t),{},{routes:e.routes}))}})}function de(e){var t=e.routes;return Object(P.jsxs)(A.d,{children:[t.map((function(e,t){return Object(P.jsx)(le,Object(v.a)({},e),e.key)})),Object(P.jsx)(A.b,{component:function(){return Object(P.jsx)("h1",{children:"Not Found!"})}})]})}var Oe=[{path:"/",key:"HOME",exact:!0,component:J},{path:"/login",key:"login",exact:!0,component:ue},{path:"/register",key:"register",exact:!0,component:Object(i.b)((function(e){return{loading:te(e),didError:re(e),inputErrors:ne(e)}}),(function(e){return{registerUser:function(t){var r=t.username,n=t.email,a=t.password,o=t.password2,c=t.history;return e(function(e){var t=e.username,r=e.email,n=e.password,a=e.password2,o=e.history;return function(){var e=Object(q.a)(W.a.mark((function e(c){var s,i;return W.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c(Y(!0)),e.next=3,Q("/api/users/register/","POST",{username:t,email:r,password:n,password2:a});case 3:if((s=e.sent).success&&!(s.status>=400)){e.next=9;break}return c({type:_,didError:!0}),i={username:Object(K.get)(s,"payload.username"),email:Object(K.get)(s,"payload.email"),password:Object(K.get)(s,"payload.password"),password2:Object(K.get)(s,"payload.password2")},Object(K.some)(i)&&c(Z(i)),e.abrupt("return",c(Y(!1)));case 9:return o.push("/login"),e.abrupt("return",c(Y(!1)));case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}({username:r,email:n,password:a,password2:o,history:c}))}}}))((function(e){var t=e.didError,r=e.inputErrors,n=e.loading,o=e.registerUser,c=Object(A.g)(),s=Object(a.useState)(""),i=Object(X.a)(s,2),j=i[0],b=i[1],l=Object(a.useState)(""),d=Object(X.a)(l,2),O=d[0],p=d[1],g=Object(a.useState)(""),h=Object(X.a)(g,2),m=h[0],x=h[1],f=Object(a.useState)(""),y=Object(X.a)(f,2),E=y[0],v=y[1];return n?Object(P.jsx)(z.a,{color:"primary"}):t&&Object(K.isEmpty)(r)?Object(P.jsx)(P.Fragment,{children:"Hey sorry, something broke"}):Object(P.jsxs)(P.Fragment,{children:[Object(P.jsx)("h1",{children:"Sign Up"}),Object(P.jsxs)("form",{children:[Object(P.jsx)(je,{variant:"outlined",label:"username",value:j,onChange:be(b),error:t&&r.username,helperText:Object(K.get)(r,"username","")}),Object(P.jsx)(je,{variant:"outlined",label:"email",value:O,onChange:be(p),error:t&&r.email,helperText:Object(K.get)(r,"email","")}),Object(P.jsx)(je,{variant:"outlined",label:"password",value:m,onChange:be(x),error:t&&r.password,helperText:Object(K.get)(r,"password","")}),Object(P.jsx)(je,{variant:"outlined",label:"confirm password",value:E,onChange:be(v),error:t&&r.password2,helperText:Object(K.get)(r,"password2","")})]}),Object(P.jsx)(F.a,{variant:"contained",color:"secondary",size:"large",onClick:function(){o({username:j,email:O,password:m,password2:E,history:c})},children:"Sign Up!"}),Object(P.jsx)("hr",{}),"Have an Account?",Object(P.jsx)(u.b,{to:"/login",children:Object(P.jsx)(F.a,{color:"primary",children:"Sign In"})})]})}))},{path:"/app",key:"APP",component:function(e){return localStorage.getItem("token")?Object(P.jsx)(de,Object(v.a)({},e)):Object(P.jsx)(A.a,{to:"/"})},routes:[{path:"/app",key:"APP",exact:!0,component:function(){return Object(P.jsx)("h1",{children:"App Index"})}}]}];var pe=function(){return Object(P.jsx)(i.a,{store:C,children:Object(P.jsx)(j.b,{injectFirst:!0,children:Object(P.jsxs)(b.a,{theme:h,children:[Object(P.jsx)(l.a,{maxWidth:"lg",children:Object(P.jsxs)(u.a,{children:[Object(P.jsx)("header",{children:Object(P.jsx)(u.b,{to:"/",children:Object(P.jsx)("h1",{children:"JavaDocs"})})}),Object(P.jsx)(de,{routes:Oe})]})}),Object(P.jsx)(f,{})]})})})};s.a.render(Object(P.jsx)(o.a.StrictMode,{children:Object(P.jsx)(pe,{})}),document.getElementById("root"))}},[[99,1,2]]]);
//# sourceMappingURL=main.d15a0d03.chunk.js.map